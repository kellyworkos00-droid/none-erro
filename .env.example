# Kelly OS ERP - Environment Configuration
# ⚠️  PRODUCTION SECURITY: Never commit real values to version control
# Generate secrets with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# ============================================================================
# APPLICATION
# ============================================================================
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3000

# ============================================================================
# DATABASE - PostgreSQL (Supabase for production, SQLite for dev)
# ============================================================================
# Supabase: Get from Supabase Dashboard → Settings → Database
DATABASE_URL="postgresql://postgres:password@your-project.supabase.co:5432/postgres"
DIRECT_URL="postgresql://postgres:password@your-project.supabase.co:5432/postgres"

# SQLite (Development only)
# DATABASE_URL="file:./prisma/dev.db"

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
JWT_SECRET=your-very-long-random-32-character-secret-key-min-32-chars
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your-refresh-token-secret-key-should-be-different
JWT_REFRESH_EXPIRES_IN=30d
BCRYPT_ROUNDS=12

# 2FA Settings
ENABLE_2FA=false
2FA_WINDOW=0

# Session
SESSION_TIMEOUT=60

# ============================================================================
# CORS & SECURITY HEADERS
# ============================================================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ENABLED=true
CORS_CREDENTIALS=true
CSP_ENABLED=true

# ============================================================================
# FILE UPLOAD & STORAGE
# ============================================================================
MAX_FILE_SIZE_MB=50
MAX_FILE_SIZE=52428800

# Allowed formats for statement uploads
ALLOWED_FILE_TYPES=text/csv,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
UPLOAD_DIR=./public/uploads
FILE_STORAGE=local

# S3 Configuration (if FILE_STORAGE=s3)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_USER_WINDOW_MS=3600000
RATE_LIMIT_PER_USER_MAX_REQUESTS=1000

# ============================================================================
# LOGGING & MONITORING
# ============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=console

# Sentry (Error Tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================================================
# AUDIT & COMPLIANCE
# ============================================================================
AUDIT_LOGGING_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555
USER_DATA_RETENTION_DAYS=2555
PII_MASKING_ENABLED=true
MASK_CREDIT_CARDS=true
MASK_SSN=true
MASK_BANK_ACCOUNTS=true

# ============================================================================
# BANK DETAILS (DTB Kenya)
# ============================================================================
BANK_NAME=DTB
PAYBILL_NUMBER=516600
ACCOUNT_NUMBER=788925

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_2FA=false
FEATURE_BATCH_OPERATIONS=true
FEATURE_REPORTS_EXPORT=true
FEATURE_ADVANCED_RECONCILIATION=true
FEATURE_AUTO_RECONCILE=true

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@elegante.com

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================
# Stripe Payment Gateway
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# Twilio (SMS)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# Exchange Rates
EXCHANGE_RATE_API_KEY=
EXCHANGE_RATE_API_URL=https://api.exchangerate-api.com/v4/latest

# ============================================================================
# CACHING
# ============================================================================
CACHE_ENABLED=true
CACHE_TYPE=memory
REDIS_URL=redis://localhost:6379
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=3600
CACHE_TTL_LONG=86400

# ============================================================================
# PERFORMANCE
# ============================================================================
DB_POOL_MIN=1
DB_POOL_MAX=20
API_REQUEST_TIMEOUT=30000

# ============================================================================
# DEVELOPMENT
# ============================================================================
DEBUG=elegante:*
NEXT_PUBLIC_DEBUG=false
MOCK_EXTERNAL_SERVICES=false
